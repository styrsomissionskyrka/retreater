overwrite: true
schema: './generated/schema.graphql'
documents:
  - '{pages,lib}/**/!(*.d).{ts,tsx}'
  - '!**/__tests__/**'
  - '!**/*.test.{ts,tsx}'

generates:
  schema.json:
    plugins:
      - introspection

  lib/graphql/generated.ts:
    plugins:
      - 'typescript'
      - 'typescript-operations'
      - 'typescript-react-apollo'
      - './scripts/gql-enums.js'
    config:
      pureMagicComment: true
      withComponent: false
      withHOC: false
      useConsts: true
      scalars:
        Date: number

  lib/graphql/generated-cache.ts:
    plugins:
      - 'fragment-matcher'

  lib/graphql/generated-apollo-helpers.ts:
    plugins:
      - 'typescript-apollo-client-helpers'
      - 'named-operations-object'
    config:
      useExplicitTyping: true
      useConsts: true
